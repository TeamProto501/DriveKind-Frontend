import{f as m,a as l,s as o}from"../chunks/BOZPY13N.js";import{p as be,a as _e,s as r,c as e,n as ye,r as t,f as he,b as y,d as Q,t as c,g as h}from"../chunks/4aDsAy4W.js";import{i as p}from"../chunks/BVWxLK3S.js";import{a as X,e as Z}from"../chunks/B9595zzv.js";var we=m('<div class="bg-red-50 border border-red-200 rounded-md p-4"><p class="text-red-800 font-medium">Error:</p> <p class="text-red-700 text-sm mt-1"> </p></div>'),Se=m('<div class="bg-green-50 border border-green-200 rounded-md p-4"><p class="text-green-800 font-medium mb-2">Success! Providers data:</p> <pre class="text-green-700 text-sm bg-green-100 p-2 rounded overflow-x-auto"> </pre></div>'),ke=m('<div class="bg-gray-50 p-4 rounded-md"><h3 class="font-medium text-gray-700 mb-2">User Metadata</h3> <pre class="text-sm text-gray-600 bg-gray-100 p-2 rounded overflow-x-auto"> </pre></div>'),De=m('<div class="bg-gray-50 p-4 rounded-md"><h3 class="font-medium text-gray-700 mb-2">App Metadata</h3> <pre class="text-sm text-gray-600 bg-gray-100 p-2 rounded overflow-x-auto"> </pre></div>'),Oe=m('<div class="bg-white rounded-lg shadow p-6 mb-6"><h2 class="text-2xl font-semibold text-gray-800 mb-4">API Test</h2> <div class="space-y-4"><form method="POST" action="?/testProviders"><button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"> </button></form> <!> <!></div></div> <div class="bg-white rounded-lg shadow p-6 mb-6"><div class="flex justify-between items-start mb-4"><h2 class="text-2xl font-semibold text-gray-800">User Session Data</h2> <form method="POST" action="?/logout"><button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50"> </button></form></div> <div class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="bg-gray-50 p-4 rounded-md"><h3 class="font-medium text-gray-700 mb-2">User ID</h3> <p class="text-sm text-gray-600 font-mono"> </p></div> <div class="bg-gray-50 p-4 rounded-md"><h3 class="font-medium text-gray-700 mb-2">Email</h3> <p class="text-sm text-gray-600"> </p></div> <div class="bg-gray-50 p-4 rounded-md"><h3 class="font-medium text-gray-700 mb-2">Created At</h3> <p class="text-sm text-gray-600"> </p></div> <div class="bg-gray-50 p-4 rounded-md"><h3 class="font-medium text-gray-700 mb-2">Last Sign In</h3> <p class="text-sm text-gray-600"> </p></div></div> <!> <!> <div class="bg-gray-50 p-4 rounded-md"><h3 class="font-medium text-gray-700 mb-2">Session Details</h3> <div class="space-y-2 text-sm text-gray-600"><div><span class="font-medium">Access Token Expires:</span> </div> <div><span class="font-medium">Token Type:</span> </div></div></div> <details class="bg-gray-50 p-4 rounded-md"><summary class="font-medium text-gray-700 cursor-pointer">Raw Session Data</summary> <pre class="mt-2 text-xs text-gray-600 bg-gray-100 p-2 rounded overflow-x-auto"> </pre></details></div></div>',1),Te=m('<div class="bg-white rounded-lg shadow p-6 text-center"><h2 class="text-2xl font-semibold text-gray-800 mb-4">Welcome!</h2> <p class="text-gray-600 mb-6">You are not currently logged in.</p> <a href="/login" class="inline-block px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">Sign In</a></div>'),Le=m('<div class="min-h-screen bg-gray-50 p-8"><div class="max-w-4xl mx-auto"><h1 class="text-4xl font-bold text-gray-900 mb-8">Welcome to SvelteKit</h1> <!> <div class="mt-8 text-center"><p class="text-gray-500">Visit <a href="https://svelte.dev/docs/kit" class="text-indigo-600 hover:text-indigo-500">svelte.dev/docs/kit</a> to read the documentation</p></div></div></div>');function Ne($,v){be(v,!0);const i=v.data.session;let x=Q(!1),f=Q(!1);var w=Le(),N=e(w),ee=r(e(N),2);{var te=g=>{var b=Oe(),S=he(b),j=r(e(S),2),_=e(j),k=e(_),re=e(k,!0);t(k),t(_),X(_,(s,a)=>{var d;return(d=Z)==null?void 0:d(s,a)},()=>()=>(y(f,!0),async({update:s})=>{y(f,!1),await s()}));var U=r(_,2);{var se=s=>{var a=we(),d=r(e(a),2),n=e(d,!0);t(d),t(a),c(()=>o(n,v.form.error)),l(s,a)};p(U,s=>{var a;(a=v.form)!=null&&a.error&&s(se)})}var de=r(U,2);{var ie=s=>{var a=Se(),d=r(e(a),2),n=e(d,!0);t(d),t(a),c(u=>o(n,u),[()=>JSON.stringify(v.form.data,null,2)]),l(s,a)};p(de,s=>{var a,d;(a=v.form)!=null&&a.success&&((d=v.form)!=null&&d.data)&&s(ie)})}t(j),t(S);var M=r(S,2),D=e(M),O=r(e(D),2),T=e(O),oe=e(T,!0);t(T),t(O),X(O,(s,a)=>{var d;return(d=Z)==null?void 0:d(s,a)},()=>({formElement:s,formData:a,action:d,cancel:n,submitter:u})=>(y(x,!0),async({result:Pe,update:fe})=>{y(x,!1),await fe()})),t(D);var W=r(D,2),L=e(W),P=e(L),C=r(e(P),2),ne=e(C,!0);t(C),t(P);var E=r(P,2),K=r(e(E),2),ve=e(K,!0);t(K),t(E);var A=r(E,2),R=r(e(A),2),le=e(R,!0);t(R),t(A);var V=r(A,2),Y=r(e(V),2),me=e(Y,!0);t(Y),t(V),t(L);var q=r(L,2);{var ge=s=>{var a=ke(),d=r(e(a),2),n=e(d,!0);t(d),t(a),c(u=>o(n,u),[()=>JSON.stringify(i.user.user_metadata,null,2)]),l(s,a)};p(q,s=>{i.user.user_metadata&&Object.keys(i.user.user_metadata).length>0&&s(ge)})}var z=r(q,2);{var ue=s=>{var a=De(),d=r(e(a),2),n=e(d,!0);t(d),t(a),c(u=>o(n,u),[()=>JSON.stringify(i.user.app_metadata,null,2)]),l(s,a)};p(z,s=>{i.user.app_metadata&&Object.keys(i.user.app_metadata).length>0&&s(ue)})}var I=r(z,2),B=r(e(I),2),J=e(B),ce=r(e(J));t(J);var F=r(J,2),pe=r(e(F));t(F),t(B),t(I);var G=r(I,2),H=r(e(G),2),xe=e(H,!0);t(H),t(G),t(W),t(M),c((s,a,d,n)=>{k.disabled=h(f),o(re,h(f)?"Testing...":"Test Providers Endpoint"),T.disabled=h(x),o(oe,h(x)?"Logging out...":"Logout"),o(ne,i.user.id),o(ve,i.user.email),o(le,s),o(me,a),o(ce,` ${d??""}`),o(pe,` ${i.token_type??""}`),o(xe,n)},[()=>new Date(i.user.created_at).toLocaleString(),()=>new Date(i.user.last_sign_in_at).toLocaleString(),()=>new Date(i.expires_at*1e3).toLocaleString(),()=>JSON.stringify(i,null,2)]),l(g,b)},ae=g=>{var b=Te();l(g,b)};p(ee,g=>{i?g(te):g(ae,!1)})}ye(2),t(N),t(w),l($,w),_e()}export{Ne as component};
